#
# Sample dhcpd.conf for diskless clients
#

# Disable dynamic DNS
ddns-update-style none;

# Assume one default gateway for IP traffic will do
option routers 10.110.140.1;

# Provide DNS info to clients
option domain-name-servers 10.110.140.1;
option domain-name "cds.ligo-la.caltech.edu";

# Specify the TFTP server to be used
next-server 10.110.140.20;

# Declare a vendor-specific option buffer for PXE clients:
# Code 1: Multicast IP address of boot file server
# Code 2: UDP port that client should monitor for MTFTP responses
# Code 3: UDP port that MTFTP servers are using to listen for MTFTP requests
# Code 4: Number of seconds a client must listen for activity before trying
#         to start a new MTFTP transfer
# Code 5: Number of seconds a client must listen before trying to restart
#         a MTFTP transfer

option space PXE;
option PXE.mtftp-ip               code 1 = ip-address;
option PXE.mtftp-cport            code 2 = unsigned integer 16;
option PXE.mtftp-sport            code 3 = unsigned integer 16;
option PXE.mtftp-tmout            code 4 = unsigned integer 8;
option PXE.mtftp-delay            code 5 = unsigned integer 8;
option PXE.discovery-control      code 6 = unsigned integer 8;
option PXE.discovery-mcast-addr   code 7 = ip-address;

# Declare the subnet where our diskless nodes will live
subnet 10.110.140.0 netmask 255.255.255.0 {

  # Provide PXE clients with appropriate information
  class "pxeclient" {
    match if substring(option vendor-class-identifier, 0, 9) = "PXEClient";
    vendor-option-space PXE;

    # At least one of the vendor-specific PXE options must be set in
    # order for the client boot ROMs to realize that we are a PXE-compliant
    # server.  We set the MCAST IP address to 0.0.0.0 to tell the boot ROM
    # that we can't provide multicast TFTP.

    option PXE.mtftp-ip 0.0.0.0;

    # This is the name of the file the boot ROMs should download.
    filename "pxelinux.0";
  }

  # Provide Etherboot clients with appropriate information
  #class "etherboot" {
    #match if substring(option vendor-class-identifier, 0, 9) = "Etherboot";
    #filename "vmlinuz_arch";
  #}

  # Add one host declaration for each diskless host
  host l1lsc0 {
  	hardware ethernet 00:25:90:0D:78:76;
	fixed-address 10.110.140.30;
  }
  host l1asc0 {
  	hardware ethernet 00:25:90:0D:77:3E;
	fixed-address 10.110.140.31;
  }
  host l1oaf0 {
    hardware ethernet 00:25:90:37:FF:14;
    fixed-address 10.110.140.32;
  }
  host l1seib1 {
    hardware ethernet 00:25:90:0D:78:74;
    fixed-address 10.110.140.33;
  }
  host l1seib2 {
    hardware ethernet 00:25:90:0D:78:86;
    fixed-address 10.110.140.34;
  }
  host l1seib3 {
    hardware ethernet 00:25:90:0D:78:6E;
    fixed-address 10.110.140.35;
  }
  host l1seih16 {
    hardware ethernet  00:25:90:0D:74:D2;
    fixed-address 10.110.140.36;
  }
  host  l1seih23 {
    hardware ethernet 00:25:90:0D:74:C6;
    fixed-address 10.110.140.37;
  }
  host l1seih45 {
    hardware ethernet 00:25:90:0D:75:3A;
    fixed-address 10.110.140.38;
  }
  host l1susb123 {
    hardware ethernet 00:25:90:0D:78:7E;
    fixed-address  10.110.140.39;
  }
  host l1sush2a {
    #hardware ethernet 00:25:90:0D:72:A0;
    hardware ethernet 00:25:90:37:fa:52;
    fixed-address  10.110.140.40;
  }
  host l1sush2b {
    hardware ethernet 00:25:90:0D:76:34;
    fixed-address  10.110.140.41;
  }
  host l1sush34  {
    hardware ethernet 00:25:90:0D:75:8A;
    fixed-address  10.110.140.42;
  }
  host l1sush56 {
    hardware ethernet 00:25:90:0D:78:88;
    fixed-address  10.110.140.43;
  }
  host l1susauxb123 {
    hardware ethernet 00:25:90:0D:74:F8;
    fixed-address  10.110.140.44;
  }
  host l1susauxh2 {
    hardware ethernet 00:25:90:0D:79:0A;
    fixed-address  10.110.140.45;
  }
  host l1susauxh34 {
    hardware ethernet 00:25:90:0D:75:0E;
    fixed-address  10.110.140.46;
  }
  host l1susauxh56 {
    hardware ethernet 00:25:90:0D:78:70;
    fixed-address  10.110.140.47;
  }
  host l1psl0 {
    hardware ethernet 00:25:90:0D:72:DC;
    fixed-address  10.110.140.48;
  }
  host l1build0 {
    hardware ethernet 00:25:90:0D:73:0A;
    fixed-address  10.110.140.22;
  }
  host l1iscex {
    hardware ethernet 00:25:90:06:37:94;
    fixed-address  10.110.140.50;
 }
  host l1seiex {
    hardware ethernet 00:25:90:37:F9:42;
    fixed-address  10.110.140.51;
 }
  host l1susex {
    hardware ethernet 00:25:90:37:FA:56;
    fixed-address 10.110.140.52;
 }
  host l1susauxex {
    hardware ethernet 00:25:90:37:FA:40;
    fixed-address 10.110.140.53;
 }
  host l1iscey {
    hardware ethernet 00:25:90:06:34:3A;
    fixed-address  10.110.140.55;
 }
  host l1seiey {
    hardware ethernet 00:25:90:37:F8:9C;
    fixed-address  10.110.140.56;
 }
  host l1susey {
    hardware ethernet 00:25:90:37:F9:A0;
    fixed-address  10.110.140.57;
 }
  host l1susauxey {
    hardware ethernet 00:25:90:37:FA:26;
    fixed-address  10.110.140.58;
 }
}
