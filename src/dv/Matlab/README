
Matlab MEX-files 
version 2.2

**************************************
Data Mex
**************************************
DataGet: request raw data from the server and record as a M-file

DataGet(chlist,starttime,period,rate,filter,serverIP,port,file,filemode) 
chlist: cell array, holds N channel names
starttime: text, the starting time in format of yy-mm-dd-hh-mn-ss
             use '0' or empty string while requesting on-line data
period:integer, number of seconds from start
rate:  integer of power of 2, sampling frequency; 0 gives full data
filter:integer from 0 to 4, filter flag; 
          filter (FIR)  order fR   ripple
       1: least-squares  42   0.9  0.015-0.2 dB
       2: equiripple     42   0.9  0.06 dB
       3: least-squares  22   0.9  0.1-1 dB
       4: least-squares  82   0.9  0.0006-.01 dB
       0: no filter
serverIP: text, IP address of the server
port:  integer, server port number (input 0 as default)
file:  text, name of a file (no extension) where the data will be stored
filemode: (optional) 'b' indicates binary file, otherwise plain text file

e.g. name={'IFO_DMRO';'IFO_CMRO';'IFO_BSRO'}; 
     DataGet(name,'99-11-18-20-30-05',5,128,0,'131.215.115.67',8080,'myfile')
or   DataGet({'IFO_DMRO';'IFO_CMRO'},'0',5,128,0,'131.215.115.67',0,'myfile','b')

Note: the file extension will be automatically assigned as either 
      .m (text file) or .dat (binary file)

**************************************
DataGetTrend: request trend data and record as a M-file

DataGetTrend(chlist,starttime,period,serverIP,port,datatype,trendflag,
             file,filemode) 
chlist: cell array, holds N channel names
starttime: text, the starting time in format of yy-mm-dd-hh-mn-ss
             use '0' or empty string while requesting on-line data
period:integer, number of seconds from start
serverIP: text, IP address of the server
port:  integer, server port number (input 0 as default)
datatype: interger, indicator of the data type;
          1:  second trend data
          60: minute trend data 
trendflag:interger, indicator of trend type 
          0:  all (min, mean, and max)
          1:  min
          2:  mean
          3:  max
file:  text, name of a file (no extension) where the data will be stored
filemode: (optional) 'b' indicates binary file, otherwise plain text file

e.g. name={'IFO_DMRO';'IFO_CMRO';'IFO_BSRO'}; 
     DataGetTrend(name,'99-11-18-20-30-05',5,'131.215.115.67',8080,1,0,'myfile')
or   DataGetTrend({'IFO_DMRO';'IFO_CMRO'},'0',5,'131.215.115.67',0,1,0,'myfile')


**************************************
DataStop: interrupt data transmission

DataStop(serverIP,process) 
serverIP:    text, IP address of the server
process:     integer, the process ID to be interrupted

e.g. DataStop('131.215.115.67',6434224)

Note: 
1. the process ID is the number shown in [] at the beginning of the 
   line of time stamp during the data transmission
2. the data transmission can also be stoped outside the matlab by
   typing    
        StopDataGet <server IP> <Process ID> 
   at the shell command line (in the working directory).
   e.g. StopDataGet 131.215.115.67 11339944


**************************************
DataLoad: load data from a file

DataLoad(file,array,chname,T)
file:  text, file name of a M-file generated by Data Mex
array: text, array name where the data will be stored
       it is a (period*rate)x(N+1) matrix with its first column as time 
       variable (in seconds)
chname:optional, text, a channel name
       all channels recorded in the file will be loaded if not provided
T:     optional, integer, number of seconds from start

e.g. DataLoad('myfile.m','Out','IFO_CMRO',3)
     DataLoad('myfile.dat','Out')
          
Note: DataLoad loads the following matlab variables automatically:
        dataChnum - number of channels
	dataChname - list of channel names (as a cell array)
        dataStart - starting time (as a string)
        dataDuration - number of seconds 
        dataResolution - sampling frequency
        dataFilter - filter flag


**************************************
DataPlot: similar to DataLoad, draw data instead of putting in an output array

DataPlot(file,chname,T)
file:  text, file name of a M-file generated by Data Mex
chname:optional, text, a channel name
       all channels recorded in the file will be ploted if not provided
T:     optional, integer, number of seconds from start

e.g. DataPlot('myfile.m','IFO_CMRO',3)
     DataPlot('myfile.dat')


**************************************
DataInfo: get information from M-file

DataInfo(file)
file:  text, file name of a M-file generated by Data Mex

e.g. DataInfo('myfile.m')
